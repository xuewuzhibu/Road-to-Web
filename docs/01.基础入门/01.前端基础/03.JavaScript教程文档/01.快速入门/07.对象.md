---
title: 对象
date: 2022-02-17 01:40:14
permalink: /pages/a86b6c/
---

JavaScript的对象是一种无序的集合数据类型，它由若干键值对组成。

JavaScript的对象用于描述现实世界中的某个对象。例如，为了描述“小明”这个淘气的小朋友，我们可以用若干键值对来描述他：

```javascript
var xiaoming = {
    name: '小明',
    birth: 1990,
    school: 'No.1 Middle School',
    height: 1.7,
    weight: 65,
    score: null
};
```

JavaScript用一个`{...}`表示一个对象，键值对以`xxx:xxx`形式声明，用`,`隔开。注意，最后一个键值对不需要在末尾加`,`，如果加了，有的浏览器（如低版本的IE）将报错。

上述对象声明了一个`name`属性，值是`'小明'`，`birth`属性，值是`1990`，以及其他一些属性。最后，把这个对象赋值给变量`xiaoming`后，就可以通过变量`xiaoming`来获取小明的属性了：

```javascript
xiaoming.name; //小明
xiaoming.birth; // 1990
```

访问属性是通过`.`操作符完成的，但这要求属性名必须是一个有效的变量名。如果属性名包含特殊字符，就必须用`''`括起来：

```javascript
var xiaohong = {
    name: '小红',
    'middle-school': 'No.1 Middle School'
};
```

`xiaohong`的属性名`middle-school`不是一个有效的变量，就需要用`''`括起来。访问这个属性也无法使用`.`操作符，必须用`['xxx']`来访问：

```javascript
xiaohong['middle-school']; // 'No.1 Middle School'
xiaohong['name']; // '小红'
xiaohong.name; // '小红'
```

也可以用`xiaohong['name']`来访问`xiaohong`的`name`属性，不过`xiaohong.name`的写法更简洁。我们在编写JavaScript代码的时候，属性名尽量使用标准的变量名，这样就可以直接通过`object.prop`的形式访问一个属性了。

实际上JavaScript对象的所有属性都是字符串，不过属性对应的值可以是任意数据类型。

如果访问一个不存在的属性返回什么呢？JavaScript规定，访问不存在的属性不报错，而是返回`undefined`：

<div class="js-demo">
<div class="demo-title">
    <span>点击运行看看效果</span>
</div>
<textarea id="textarea1" class="textarea" maxlength="900">'use strict';
var xiaoming = {
    name: '小明'
};
console.log(xiaoming.name);
console.log(xiaoming.age); // undefined
</textarea>
<br />
<button id="run" onclick="consoleRunCode(1,true)">运行</button>
<div id="log1"></div>
</div>
<br />

由于JavaScript的对象是动态类型，你可以自由地给一个对象添加或删除属性：

```javascript
var xiaoming = {
    name: '小明',
};
console.log(xiaoming.age); //undefined
xiaoming.age = 18; //新增一个age属性
console.log(xiaoming.age); // 18
delete xiaoming.age; //删除age属性
console.log(xiaoming.age); //undefined
delete xiaoming['name']; //删除name属性
console.log(xiaoming.name); //undefined
console.log(delete xiaoming.school); //删除一个不存在的school属性也不会报错，返回布尔值true
```

如果我们要检测`xiaohong`是否拥有某一个属性，可以用`in`操作符：

```javascript
var xiaoming = {
    name: '小明',
    birth: 1990,
    school: 'No.1 Middle School',
    height: 1.7,
    weight: 65,
    score: null,
};
console.log('name' in xiaoming); // true
console.log('grade' in xiaoming); // false
```

不过要小心，如果`in`判断一个属性存在，这个属性不一定是`xiaoming`的，它可能是`xiaoming`继承得到的：

```javascript
'toString' in xiaoming; // true
```

因为`toString`定义在`object`对象中，而所有的对象最终都会在原型链上指向`object`，所以`xiaoming`也用有`toString`属性。

要判断一个属性是否是`xiaoming`自身拥有的，而不是继承得到的，可以用`hasOwnProperty()`方法：

```javascript
var xiaoming = {
    name: '小明'
}
xiaoming.hasOwnProperty('name'); //true
xiaoming.hasOwnProperty('toString'); //false
```